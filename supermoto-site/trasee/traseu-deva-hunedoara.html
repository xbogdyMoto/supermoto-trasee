
<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Traseu Supermoto Deva – Hunedoara (demo)</title>
  <meta name="description" content="Traseu supermoto intre Deva si Hunedoara. Harta interactiva, ruta GPX descarcabila si info utile.">
  <link rel="stylesheet" href="../assets/style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="">
</head>
<body>
  <nav class="nav">
    <div class="brand">Supermoto Routes</div>
    <div class="links">
      <a href="../index.html">Acasa</a>
      <a href="index.html">Trasee</a>
      <a href="../contact.html">Contact</a>
    </div>
  </nav>
  <div class="container">
    <div class="card">
      <h1>Deva – Hunedoara (demo)</h1>
      <p class="meta">~45 km • asfalt • nivel: usor</p>
      <div id="map" class="leaflet-container"></div>
      <div class="toolbar">
        <a class="btn" href="deva-hunedoara.gpx" download>Descarca GPX</a>
        <span class="tag">OSM</span><span class="tag">Satelit</span><span class="tag">Start/Stop</span>
      </div>
      <div class="legend">
        Sfaturi: evita orele 7-9 si 16-18. Atentie la zonele cu pietris pe margine dupa ploi.
      </div>
    </div>
  </div>
  <footer class="footer">© 2025 Supermoto Routes</footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script src="https://unpkg.com/leaflet-gpx@1.7.0/dist/leaflet-gpx.min.js"></script>
  <script>
    const map = L.map('map').setView([45.85, 22.92], 11);
    const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19, attribution: '&copy; OpenStreetMap'}).addTo(map);
    const esriSat = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {maxZoom: 19, attribution: 'Tiles © Esri'});
    L.control.layers({'OpenStreetMap':osm,'Satelit (Esri)':esriSat},{}).addTo(map);
    L.control.scale().addTo(map);

    const g = new L.GPX('deva-hunedoara.gpx', {
      async: true,
      marker_options: {
        startIconUrl: 'https://unpkg.com/leaflet-gpx@1.7.0/pin-icon-start.png',
        endIconUrl:   'https://unpkg.com/leaflet-gpx@1.7.0/pin-icon-end.png',
        shadowUrl:    'https://unpkg.com/leaflet-gpx@1.7.0/pin-shadow.png'
      },
      polyline_options: {weight:4}
    }).on('loaded', e => {
      map.fitBounds(e.target.getBounds(), {padding:[20,20]});
      const km = (e.target.get_distance()/1000).toFixed(1);
      document.title = `Traseu Supermoto Deva – Hunedoara (${km} km)`;
    }).addTo(map);
  </script>
</body>
</html>
